<div class="pfm-container" style="padding: 2rem 0;">
  <!-- Page Heading -->
  <div class="pfm-flex" style="justify-content: space-between; align-items: flex-end; margin-bottom: 2rem; flex-wrap: wrap; gap: 1rem;">
    <div>
      <h2 style="font-size: 2rem; font-weight: 800; margin-bottom: 0.5rem;">Category Customization</h2>
      <p class="pfm-text-muted">Manage icons, colors, and organization for your financial data</p>
    </div>
    <button class="pfm-btn pfm-btn-primary" ng-click="$ctrl.addCategory()">
      <span style="font-size: 1.25rem; margin-right: 0.5rem;">+</span>
      Add Category
    </button>
  </div>
  
  <!-- Tabs -->
  <div class="pfm-mb-4">
    <div class="pfm-flex" style="border-bottom: 1px solid var(--pfm-border-light); gap: 2rem;">
      <a 
        href="#" 
        class="pfm-flex" 
        style="align-items: center; gap: 0.5rem; padding: 0.75rem 0; border-bottom: 3px solid; text-decoration: none;"
        ng-class="{\'border-color: var(--pfm-primary); color: var(--pfm-text-dark); font-weight: 700;\': $ctrl.activeTab === \'all\', \'border-color: transparent; color: var(--pfm-text-muted);\': $ctrl.activeTab !== \'all\'}"
        ng-click="$ctrl.setActiveTab('all')">
        <span style="font-size: 0.875rem; font-weight: 700;">All Categories</span>
        <span class="pfm-badge pfm-badge-primary" style="font-size: 0.75rem;">{{ $ctrl.categories.length }}</span>
      </a>
      <a 
        href="#" 
        class="pfm-flex" 
        style="align-items: center; gap: 0.5rem; padding: 0.75rem 0; border-bottom: 3px solid; text-decoration: none;"
        ng-class="{\'border-color: var(--pfm-primary); color: var(--pfm-text-dark); font-weight: 700;\': $ctrl.activeTab === \'income\', \'border-color: transparent; color: var(--pfm-text-muted);\': $ctrl.activeTab !== \'income\'}"
        ng-click="$ctrl.setActiveTab('income')">
        <span style="font-size: 0.875rem; font-weight: 700;">Income</span>
        <span class="pfm-badge pfm-badge-success" style="font-size: 0.75rem;">{{ $ctrl.getIncomeCount() }}</span>
      </a>
      <a 
        href="#" 
        class="pfm-flex" 
        style="align-items: center; gap: 0.5rem; padding: 0.75rem 0; border-bottom: 3px solid; text-decoration: none;"
        ng-class="{\'border-color: var(--pfm-primary); color: var(--pfm-text-dark); font-weight: 700;\': $ctrl.activeTab === 'expense', \'border-color: transparent; color: var(--pfm-text-muted);\': $ctrl.activeTab !== \'expense\'}"
        ng-click="$ctrl.setActiveTab('expense')">
        <span style="font-size: 0.875rem; font-weight: 700;">Expenses</span>
        <span class="pfm-badge pfm-badge-danger" style="font-size: 0.75rem;">{{ $ctrl.getExpenseCount() }}</span>
      </a>
    </div>
  </div>
  
  <!-- Loading State -->
  <pfm-loading-spinner ng-if="$ctrl.loading" message="Loading categories..."></pfm-loading-spinner>
  
  <!-- Categories Grid -->
  <div ng-if="!$ctrl.loading" class="pfm-grid pfm-grid-cols-4">
    <div ng-repeat="category in $ctrl.filteredCategories" class="pfm-card" style="position: relative; transition: all 0.2s ease;">
      <!-- Category Card -->
      <div class="pfm-flex pfm-flex-col" style="gap: 1rem;">
        <div class="pfm-flex" style="justify-content: space-between; align-items: flex-start;">
          <div 
            style="width: 3rem; height: 3rem; border-radius: 0.5rem; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;"
            ng-style="{background: category.color + '20'}">
            <span>{{ $ctrl.getCategoryIcon(category.icon) }}</span>
          </div>
          <div class="pfm-flex" style="gap: 0.25rem;">
            <button class="pfm-btn pfm-btn-secondary pfm-btn-sm" style="padding: 0.25rem 0.5rem;" ng-click="$ctrl.editCategory(category)">
              ‚úèÔ∏è
            </button>
            <button class="pfm-btn pfm-btn-secondary pfm-btn-sm" style="padding: 0.25rem 0.5rem;" ng-click="$ctrl.deleteCategory(category)">
              üóëÔ∏è
            </button>
          </div>
        </div>
        
        <div>
          <h3 style="font-size: 1rem; font-weight: 700; margin-bottom: 0.25rem;">{{ category.name }}</h3>
          <p class="pfm-text-muted" style="font-size: 0.75rem; text-transform: capitalize;">{{ category.type }}</p>
        </div>
        
        <div class="pfm-flex" style="align-items: center; gap: 0.5rem;">
          <div 
            style="width: 1rem; height: 1rem; border-radius: 0.25rem;"
            ng-style="{background: category.color}">
          </div>
          <span class="pfm-text-muted" style="font-size: 0.75rem; font-weight: 600;">{{ category.color }}</span>
        </div>
      </div>
    </div>
    
    <!-- Empty State -->
    <div ng-if="$ctrl.filteredCategories.length === 0" style="grid-column: 1 / -1; padding: 4rem; text-align: center;">
      <p class="pfm-text-muted">No categories found</p>
    </div>
  </div>
</div>
